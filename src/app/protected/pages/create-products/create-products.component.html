<h1>Gestionar productos</h1>
<mat-divider></mat-divider>

<!-- <ng-template #divProduct> -->
  <h2>Crear producto</h2>
  <div fxLayout="row"
        fxLayout.xs="column"
        faxLayoutGap="30px">

    <div fxFlex="50" fxLayout="column">

        <!-- Form -->
        <div fxFlex="50">
          <form autocomplete="off"
          [formGroup]="createProductForm"
          (ngSubmit)="submit()">
            <p>
              <mat-form-field appearance="legacy">
                <mat-label>Nombre del producto</mat-label>
                <input matInput placeholder="Nombre" formControlName="name" required>
                <mat-icon matSuffix>perm_identity</mat-icon>
              </mat-form-field>
            </p>

            <p>
              <mat-form-field appearance="legacy">
                <mat-label>Descripción</mat-label>
                <input matInput placeholder="Añade un subtítulo" formControlName="description" required>
                <mat-icon matSuffix>perm_identity</mat-icon>
              </mat-form-field>
            </p>

            <!-- <p>
              <mat-form-field appearance="legacy">
                <mat-label>Imagen</mat-label>
                <input matInput placeholder="Añadir imagen" formControlName="image" required>
                <mat-icon matSuffix>perm_identity</mat-icon>
              </mat-form-field>
            </p> -->

            <p>
              <label>Imagen: </label>
              <input id="inputFile" type="file" accept=".png, .jpg,.jpeg" (change)="loadImage($event)">

              <label for="inputFile" class="labelInputFile">
                <img src="https://icons-for-free.com/iconfiles/png/512/cloud+upload+file+storage+upload+icon-1320190558968694328.png" alt="upload file" width="50px">
              </label>

            </p>

            <div>
              <label>Ingredientes</label>

              <div class="input-group">
                <input class="form-control"
                       [formControl]="newIngredient"
                       placeholder="Añadir ingrediente"
                       (keyup.enter)="addIngredient()"
                       >


                <button (click)="addIngredient()"
                type="button">
                  Añadir
                </button>
              </div>

              <div formArrayName="ingredients">
                <div class="input-group"
                      *ngFor="let ingredient of ingredientsArray.controls; let i = index">
                  <input class="form-control"
                         [formControlName]="i"
                         >

                  <button (click)="removeIngredient(i)"
                  type="button">
                    Eliminar
                  </button>
                </div>

              </div>

            </div>

            <!-- <p>
              <mat-form-field appearance="legacy">
                <mat-label>Ingredientes</mat-label>
                <input matInput placeholder="Nombre" formArrayName="ingredients" required>
                <mat-icon matSuffix>perm_identity</mat-icon>
                <button mat-button></button>

              </mat-form-field>
            </p>

            <p>
              <mat-form-field appearance="legacy">
                <mat-label>Ingredientes</mat-label>
                <input matInput placeholder="Nombre" formArrayName="ingredients" required>
                <mat-icon matSuffix>perm_identity</mat-icon>
              </mat-form-field>
            </p> -->



            <p>
              <mat-form-field appearance="legacy">
                <mat-label>Unidades</mat-label>
                <input matInput placeholder="Añadir imagen" formControlName="units" >
                <mat-icon matSuffix>perm_identity</mat-icon>
              </mat-form-field>
            </p>

            <p>
              <mat-form-field appearance="legacy">
                <mat-label>Peso</mat-label>
                <input matInput placeholder="Añadir imagen" formControlName="weight" >
                <mat-icon matSuffix>perm_identity</mat-icon>
              </mat-form-field>
            </p>

            <button mat-raised-button
              color="primary"
              type="submit"
              [disabled]="createProductForm.invalid">
                Crear producto
            </button>


          </form>

        </div>

    </div>

    <mat-divider></mat-divider>


        <div fxFlex="50" *ngIf="previewProduct">

          <h2>Previsualizando producto</h2>
          <mat-card>
            <mat-card-header>
              <mat-card-title>{{ previewProduct._id}}</mat-card-title>
              <mat-card-title>{{ previewProduct.name }}</mat-card-title>
              <mat-card-subtitle>{{ previewProduct.description }}</mat-card-subtitle>
            </mat-card-header>

            <img mat-card-image [src]="previewProduct.image">

            <mat-card-content>
              <p>Ingredientes: {{ previewProduct.ingredients }}</p>
              <p>Unidades: {{ previewProduct.units }}</p>
              <p>Peso: {{ previewProduct.weight }}</p>
            </mat-card-content>

          </mat-card>

          <button mat-raised-button type="button" (click)="holita()">check id</button>

        </div>

  </div>
<!-- </ng-template> -->




